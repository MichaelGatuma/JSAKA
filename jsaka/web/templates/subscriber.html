{% extends "base.html" %} {% block title %} JSAKA::HOME {%endblock %} {%
block content %}

<style>
td, th {
	text-align: center;
}

.subs {
	width: 50%;
}

.statsTb {
	width: 100%;
}

.sub-mail {
	vertical-align: middle !important;
}

/* site-keyword */
#site-keyword .selected-sites {
	border: 1px solid;
	border-bottom-width: 2px;
	border-color: #ffffff #ebebe0 #ebebe0 #ffffff;
}

.selected-sites {
	border-color: #000000 !important;
	margin-bottom: 4px;
}

.h-line {
	margin-top: 10px;
	margin-bottom: 10px;
}

.item-list {
	list-style-type: none;
	margin: 0;
	padding: 0;
	padding-left: 7px;
}

ul.item-list li:HOVER {
	background-color: #000000;
	color: #FFFFFF;
	 	font-size: 17px; 
	 	padding-left: 9px; 
	border-radius: 7px
}

.select-item{
	background-color: #000000;
	color: #FFFFFF;
	 	font-size: 17px; 
	 	padding-left: 9px; 
	border-radius: 7px
}

.picker.panel-heading {
	background-color: #cce6ff ! important;
}

/* site-keyword */
</style>

{% include "include/jumbotron.html" %}


<div class="container-fluid">




	<div class="row">

		<div class="alert  alert-dismissible fade in col-sm-12 text-center"	id="alerter" style="display: none">
			<strong>
				<p class="messageFeedback"></p>
			</strong>
		</div>

		{% include "include/navigation.html" %}

		<div class="col-sm-10">


			<div class="panel panel-default">
				<!-- Default panel contents -->
				<div class="panel-heading" style="text-align: center;">List of
					all Subscribers, sites and jobs subscribed to</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-sm-10" style="display: none;" id=site-keyword>

							<div class="row">

								<div class="form-group col-sm-12">
									<form style="padding-bottom: 5px;">
										<label for="subscriber-email">Email address:</label> <input
											type="text" class="form-control" id="subscriber-email"
											placeholder="Email">
									</form>
								</div>

								<div class="content-list col-sm-5">
									<div class="panel panel-default">
										<!-- Default panel contents -->
										<div class="picker panel-heading" style="text-align: center;">
										<i class="fa fa-sitemap" style="color: #00cc00;" aria-hidden="true"></i> Available Sites</div>
										<div class="panel-body">
											<ul class="item-list nonsubscribed-sites">
												
											</ul>


										</div>
									</div>



								</div>
								
								<div class="col-sm-2">
								<div class="row">
									<div class="col-sm-12 text-center" style="margin-top:5%;">
									<button class="site-subscribe-btn">
										<i class="fa fa-chevron-right" style="color: blue"
											aria-hidden="true"></i>
									</button>
								</div>
								
								<div class="col-sm-12 text-center" style="margin-top:5%;">
									<button class="site-unsubscribe-btn">
										<i class="fa fa-chevron-left" style="color: blue"
											aria-hidden="true"></i>
									</button>
								</div>
								</div>
								</div>
								

								<div class="content-list col-sm-5">
									<div class="panel panel-default">
										<!-- Default panel contents -->
										<div class="picker panel-heading" style="text-align: center;">
										<i class="fa fa-sitemap" style="color: #ff33cc;" aria-hidden="true"></i> Subscribed Sites</div>
										<div class="panel-body">
											<ul class="item-list subscribed-sites">
											
											</ul>
										</div>
									</div>
								</div>
							</div>
							
							<!--Key words lists ************* -->
							
							<div class="row keywordSection" style="display: none;">

								<div class="content-list col-sm-5">
									<div class="panel panel-default">
										<!-- Default panel contents -->
										<div class="picker panel-heading" style="text-align: center;">
										<i class="fa fa-key" style="color: #ff33cc;" aria-hidden="true"></i> Available Keywords</div>
										<div class="panel-body">
											<ul class="item-list nonsubscribed-keywords">
												
											</ul>
										</div>
									</div>
								</div>


								<div class="col-sm-2">
								<div class="row">
								
								<div class="col-sm-12  text-center"  style="margin-top:5%;">
									<button  class="keyword-subscribe-btn">
										<i class="fa fa-chevron-right" style="color: blue"
											aria-hidden="true"></i>
									</button>
								</div>
								
								<div class="col-sm-12  text-center"  style="margin-top:5%;">
									<button  class="keyword-unsubscribe-btn">
										<i class="fa fa-chevron-left" style="color: blue"
											aria-hidden="true"></i>
									</button>
								</div>
								</div>
								</div>

								<div class="content-list col-sm-5">
									<div class="panel panel-default">
										<!-- Default panel contents -->
										<div class="picker panel-heading" style="text-align: center;">
										<i class="fa fa-key" style="color: #00cc00;" aria-hidden="true"></i> Subscribed Keywords</div>
										<div class="panel-body">
											<ul class="item-list subscribed-keywords">
												
											</ul>
										</div>
									</div>
								</div>


							</div>

						</div>
						
						<div class="col-sm-2" style="margin-top: 25px;">
							<button type="button" class="btn btn-info new-subsription-btn">
								<i class="fa fa-plus-circle" aria-hidden="true"></i> New Subscription
							</button>
						</div>
						
					</div>
				</div>

				<!-- Table -->
				<div class="table-responsive">
					<table id="contentItems" class="table table-striped">
						<thead>
							<tr>
								<th>Subscriber</th>
								<th>Subscriptions</th>
								<th>Control</th>
							</tr>
						</thead>
						<tbody id="subscription-table">
							{% for sub in subscriptionList.keys() %}
							<tr id={{sub}}>
								<td class="sub-mail">{{ subscriptionList[sub]['email'] }}</td>
								<td>
									<table class="statsTb">
										<thead>
											<th>Sites</th>
											<th>Keyword</th>
										</thead>
										<tbody>
											<tr>
												<td class="subs">{{ subscriptionList[sub]['totalSites'
													]}}</td>
												<td class="subs">{{
													subscriptionList[sub]['totalKeywords'] }}</td>
											</tr>

										</tbody>
									</table>
								</td>
								<td>
									<button type="button"  class="btn btn-info subscription-control edit-sub">
										<i class="fa fa-pencil" aria-hidden="true"></i>
									</button>
									<button type="button"
										class="btn btn-primary subscription-control delete-sub" data-toggle="modal"
										data-target=".delete-modal">
										<i class="fa fa-trash" aria-hidden="true"></i>
									</button>
								</td>
							</tr>
							{% endfor %}
						</tbody>

					</table>
				</div>

			</div>
		</div>
	</div>

	<!-- Delete keyword modal -->
	<div class="modal fade delete-modal" id="delete-modal" tabindex="-1"
		role="dialog" aria-labelledby="mySmallModalLabel">
		<div class="modal-dialog modal-sm" role="document">
			<div class="modal-content">

				<div class="modal-body">
					<div>
						Delete subscriber <label class="delete-subscription"></label>
					</div>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary delete-subscription">Delete
						Keyword</button>
				</div>

			</div>
		</div>
	</div>

</div>

{% endblock %} {% block jsIncludes %} {{ super() }}
<script type="text/javascript"	src="{{ url_for('static',filename='vendor/js/utils.js') }}"></script>
<script type="text/javascript"	src="{{ url_for('static',filename='vendor/js/subscribers.js') }}"></script>

{% endblock %}
